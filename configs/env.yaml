# env.yaml - SFCç¯å¢ƒæ ¸å¿ƒé…ç½®ï¼ˆæ—¶é—´æ§½ç‰ˆæœ¬ï¼‰
# å¯¹åº”HIRL-MSFC-CE/hirl_sfc_env.pyä¸­çš„ç¯å¢ƒåˆå§‹åŒ–ä¸è¿è¡Œå‚æ•°

# ==============================================
# 1. è·¯å¾„ä¸æ–‡ä»¶é…ç½®
# ==============================================
paths:
  input_dir: "E:/pycharmworkspace/SFC-master/HRL-GNN for Multicast-aware SFC Orchestration/data/input_dir"
  failure_output_dir: "E:/pycharmworkspace/SFC-master/HRL-GNN for Multicast-aware SFC Orchestration/data/failure"

  # Phase1æ•°æ®æ–‡ä»¶
  phase1_requests: "phase1_requests.pkl"
  phase1_events: "phase1_events.pkl"

  # ğŸ”¥ æ–°å¢ï¼šæ—¶é—´æ§½æ•°æ®æ–‡ä»¶
  phase1_requests_by_slot: "phase1_requests_by_slot.pkl"
  phase1_events_by_slot: "phase1_events_by_slot.pkl"

  # Phase3æ•°æ®æ–‡ä»¶
  phase3_requests: "phase3_requests.pkl"
  phase3_events: "phase3_events.pkl"

  # ğŸ”¥ æ–°å¢ï¼šPhase3æ—¶é—´æ§½æ•°æ®æ–‡ä»¶
  phase3_requests_by_slot: "phase3_requests_by_slot.pkl"
  phase3_events_by_slot: "phase3_events_by_slot.pkl"

  # å…¼å®¹æ—§ç‰ˆæœ¬
  fallback_requests: "sorted_requests.pkl"
  fallback_events: "event_list.pkl"

# ==============================================
# 2. ç½‘ç»œèµ„æºé…ç½®
# ==============================================
resources:
  capacities:
    cpu: 80.0         # èŠ‚ç‚¹CPUå®¹é‡
    memory: 60.0      # èŠ‚ç‚¹å†…å­˜å®¹é‡
    bandwidth: 80.0   # é“¾è·¯å¸¦å®½å®¹é‡
  dc_nodes: [1, 2, 3, 4, 5, 6, 7, 8, 11, 13, 14, 17, 18, 19, 20, 21, 23, 24, 27, 28]  # æ•°æ®ä¸­å¿ƒèŠ‚ç‚¹åˆ—è¡¨

# ==============================================
# 3. ğŸ”¥ æ—¶é—´æ§½ç³»ç»Ÿé…ç½®ï¼ˆæ–°å¢ï¼‰
# ==============================================
timeslot:
  # æ—¶é—´æ§½åŸºæœ¬å‚æ•°
  delta_t: 0.01                    # æ—¶é—´æ§½å¤§å°ï¼ˆç§’ï¼‰= 10ms
  max_time_slots: 200000           # æœ€å¤§æ—¶é—´æ§½æ•°ï¼ˆå¯é€‰ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºï¼‰

  # è¯·æ±‚æŒç»­æ—¶é—´é…ç½®
  request_duration:
    min_slots: 1000                # æœ€å°æŒç»­æ—¶é—´ï¼ˆæ—¶é—´æ§½ï¼‰= 10s
    max_slots: 6000                # æœ€å¤§æŒç»­æ—¶é—´ï¼ˆæ—¶é—´æ§½ï¼‰= 60s
    mean_lifetime: 3               # å¹³å‡ç”Ÿå­˜æ—¶é—´ï¼ˆæ—¶é—´é—´éš”æ•°ï¼‰

  # æ—¶é—´æ§½ç³»ç»Ÿå¼€å…³
  enabled: true                    # å¯ç”¨æ—¶é—´æ§½ç³»ç»Ÿ
  use_discrete_time: true          # ä½¿ç”¨ç¦»æ•£æ—¶é—´æ¨¡æ‹Ÿ

# ==============================================
# 4. ç¯å¢ƒè¿è¡Œå‚æ•°
# ==============================================
runtime:
  max_timesteps: 3000              # æœ€å¤§æ—¶é—´æ­¥ï¼ˆTï¼‰ï¼Œä¸self.Tä¿æŒä¸€è‡´
  max_paths_in_tree: 10            # æ ‘ä¸­æœ€å¤§è·¯å¾„æ•°ï¼ˆå¯¹åº”PathManagerçš„max_pathsï¼‰
  expert_randomness: 0.1           # ä¸“å®¶ç³»ç»Ÿéšæœºæ€§ç³»æ•°

  # ğŸ”¥ æ–°å¢ï¼šæ—¶é—´æ§½ç›¸å…³è¿è¡Œå‚æ•°
  max_steps_per_episode: 600       # å•ä¸ªè¯·æ±‚æœ€å¤§å†³ç­–æ­¥æ•°
  enable_timeout_detection: true   # å¯ç”¨è¶…æ—¶æ£€æµ‹
  timeout_penalty: -300.0          # è¶…æ—¶æƒ©ç½š

# ==============================================
# 5. çŠ¶æ€ä¸ç©ºé—´é…ç½®
# ==============================================
state_space:
  nb_high_level_goals: 10          # é«˜å±‚ç›®æ ‡æ•°é‡
  nb_low_level_actions: 100        # ä½å±‚åŠ¨ä½œæ•°é‡ï¼ˆmax_paths_in_tree * K_pathï¼ŒK_pathä»expertè·å–ï¼‰
  dim_network: null                # åŠ¨æ€è®¡ç®—ï¼šn + n + L + n*K_vnfï¼ˆn/L/K_vnfä»expertè·å–ï¼‰
  dim_request: 10                  # è¯·æ±‚ç‰¹å¾ç»´åº¦
  state_vector_size: null          # åŠ¨æ€è®¡ç®—ï¼šdim_network + dim_request

# ==============================================
# 6. æ•°æ®åŠ è½½ä¸åˆ‡æ¢é…ç½®
# ==============================================
dataset:
  auto_reset_time: true            # åŠ è½½æ–°æ•°æ®é›†æ—¶æ˜¯å¦å¼ºåˆ¶é‡ç½®æ—¶é—´æŒ‡é’ˆï¼ˆt=0ï¼‰
  reset_resources_on_switch: true  # åˆ‡æ¢æ•°æ®é›†æ—¶æ˜¯å¦é‡ç½®èµ„æºçŠ¶æ€
  reset_stats_on_switch: true      # åˆ‡æ¢æ•°æ®é›†æ—¶æ˜¯å¦é‡ç½®ç»Ÿè®¡æŒ‡æ ‡

  # ğŸ”¥ æ–°å¢ï¼šæ—¶é—´æ§½æ•°æ®åŠ è½½é…ç½®
  use_timeslot_data: true          # ä¼˜å…ˆä½¿ç”¨æ—¶é—´æ§½æ•°æ®
  fallback_to_original: true       # å¦‚æœæ—¶é—´æ§½æ•°æ®ä¸å­˜åœ¨ï¼Œå›é€€åˆ°åŸç‰ˆ

# ==============================================
# 7. å¯è§†åŒ–ä¸æ—¥å¿—é…ç½®
# ==============================================
visualization:
  enable_render: true              # æ˜¯å¦å¯ç”¨å¯è§†åŒ–
  failure_visualizer:
    auto_layout: true              # èŠ‚ç‚¹ä½ç½®æ˜¯å¦è‡ªåŠ¨å¸ƒå±€ï¼ˆæ— åæ ‡æ•°æ®æ—¶ï¼‰

logging:
  metrics:
    track_backup_stats: true       # æ˜¯å¦è·Ÿè¸ªå¤‡ä»½ç­–ç•¥ç»Ÿè®¡
    track_resource_usage: true     # æ˜¯å¦è·Ÿè¸ªèµ„æºä½¿ç”¨æƒ…å†µ

    # ğŸ”¥ æ–°å¢ï¼šæ—¶é—´æ§½ç›¸å…³æ—¥å¿—
    track_timeslot_info: true      # è·Ÿè¸ªæ—¶é—´æ§½ä¿¡æ¯
    log_timeslot_jumps: true       # è®°å½•æ—¶é—´æ§½è·³è½¬
    log_request_expiry: true       # è®°å½•è¯·æ±‚åˆ°æœŸ

# ==============================================
# 8. å¤‡ä»½ç­–ç•¥é…ç½®ï¼ˆé›†æˆsfc_backup_systemï¼‰
# ==============================================
backup_policy:
  enabled: true                    # æ˜¯å¦å¯ç”¨å¤‡ä»½ç­–ç•¥
  vnf_placement_strategy: "resource_aware"  # VNFæ”¾ç½®ç­–ç•¥ï¼ˆsimple_round_robin/resource_awareï¼‰

# ==============================================
# 9. ğŸ”¥ èµ„æºç®¡ç†é…ç½®ï¼ˆæ–°å¢ï¼‰
# ==============================================
resource_management:
  # èµ„æºè¿½è¸ª
  enable_request_level_tracking: true  # å¯ç”¨è¯·æ±‚çº§åˆ«èµ„æºè¿½è¸ª
  auto_release_expired: true           # è‡ªåŠ¨é‡Šæ”¾è¿‡æœŸè¯·æ±‚èµ„æº

  # èµ„æºæ£€æŸ¥
  check_before_allocate: true          # åˆ†é…å‰æ£€æŸ¥èµ„æº
  reserve_margin: 0.1                  # èµ„æºé¢„ç•™ä½™é‡ï¼ˆ10%ï¼‰

# ==============================================
# 10. ğŸ”¥ æ€§èƒ½ä¼˜åŒ–é…ç½®ï¼ˆæ–°å¢ï¼‰
# ==============================================
performance:
  # æ‰¹é‡å¤„ç†
  batch_process_requests: true         # æ‰¹é‡å¤„ç†åŒä¸€æ—¶é—´æ§½çš„è¯·æ±‚
  max_batch_size: 10                   # æœ€å¤§æ‰¹é‡å¤§å°

  # ç¼“å­˜
  enable_path_cache: true              # å¯ç”¨è·¯å¾„ç¼“å­˜
  cache_size: 1000                     # ç¼“å­˜å¤§å°